<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>FORKWELL | Profile</title>

  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="font-awesome/css/font-awesome.css" rel="stylesheet">
  <link href="css/animate.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href="css/u-list.css" rel="stylesheet">

  <link rel="apple-touch-icon" type="image/png" href="https://d3bpwnzencusk5.cloudfront.net/assets/portfolio/favicons/apple-touch-icon-1f451b43c3b43d2cfedc96c0f78999377e66c07a098dfa69108297af807a0a9c.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://d3bpwnzencusk5.cloudfront.net/assets/portfolio/favicons/favicon-32x32-21a9f15a79283bb6d6c854c43035d8417fbc5ed68b56644bdfc3a16d2b620cd8.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://d3bpwnzencusk5.cloudfront.net/assets/portfolio/favicons/favicon-16x16-164ddef002497657de10cc9ef8ffcdb71be4feee5a6f27f403de25337a4aa01c.png" sizes="16x16">
  <link rel="mask-icon" type="image/svg+xml" href="https://d3bpwnzencusk5.cloudfront.net/assets/portfolio/favicons/safari-pinned-tab-2f723272fdc0582929caf5ef4a8ac675cd8f031ae73e8762f39236fb65a30d0f.svg" color="#2394f7">

</head>

<body>

<div id="wrapper">

  <nav class="navbar-default navbar-static-side" role="navigation">
    <div class="sidebar-collapse">
      <ul class="nav metismenu" id="side-menu">
        <li class="nav-header" style="background: none;">
          <div class="dropdown profile-element"> <span>
                            <img alt="image" class="img-circle" src="img/profile_small.jpg" />
                             </span>
            <a data-toggle="dropdown" class="dropdown-toggle" href="">
                            <span class="clear"> <span class="block m-t-xs"> <strong class="font-bold">@yachibit</strong>
                             </span>
                              <span class="text-muted text-xs block">IT Engineer</span>
                            </span>
            </a>
            <div style="color: #fff;">
              <span><i class="fa fa-github"></i></span>&nbsp;
              <span><i class="fa fa-twitter"></i></span>&nbsp;
              <span><i class="fa fa-facebook-official"></i></span>
            </div>

            <ul class="dropdown-menu animated fadeInRight m-t-xs">
              <li><a href="">Profile</a></li>
              <li><a href="">Contacts</a></li>
              <li class="divider"></li>
              <li><a href="">Logout</a></li>
            </ul>
          </div>
          <div class="logo-element">
            <img src="img/forkwell.png" alt="" width="50">
          </div>
        </li>
        <li class="active">
          <a href="index.html"><i class="fa fa-th-large"></i> <span class="nav-label">Career</span> <span
            class="fa arrow"></span></a>
          <ul class="nav nav-second-level collapse">
            <li><a href="#">vacancy</a></li>
            <li><a href="#">Jobs offer
              <span
                class="label label-danger pull-right">3</span>
            </a></li>
          </ul>
        </li>
        <li>
          <a href=""><i class="fa fa-weixin"></i> <span class="nav-label">chat</span>
            <span
              class="label label-success pull-right">130</span></a>
        </li>



      </ul>

    </div>
  </nav>

  <div id="page-wrapper" class="gray-bg">
    <div class="row border-bottom">
      <nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
          <a class="navbar-minimalize minimalize-styl-2 btn" style="background: #0d55ff; color: #fff;" href="#"><i
            class="fa fa-bars"></i> </a>
          <div class="navbar-minimalize minimalize-styl-2">
            <a href="" class="">50 followings</a>&nbsp;
            <a href="" class="">46 followers</a>
          </div>

        </div>
        <ul class="nav navbar-top-links navbar-right">
          <li class="dropdown">
            <a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
              <i class="fa fa-bell"></i>  <span class="label label-primary">8</span>
            </a>
            <ul class="dropdown-menu dropdown-alerts">
              <li>
                <a href="">
                  <div>
                    <i class="fa fa-envelope fa-fw"></i> You have 5 messages
                    <span class="pull-right text-muted small">4 minutes ago</span>
                  </div>
                </a>
              </li>
              <li class="divider"></li>
              <li>
                <a href="">
                  <div>
                    <i class="fa fa-twitter fa-fw"></i> 3 New Followers
                    <span class="pull-right text-muted small">12 minutes ago</span>
                  </div>
                </a>
              </li>
              <li class="divider"></li>
              <li>
                <div class="text-center link-block">
                  <a href="">
                    <strong>See All Alerts</strong>
                    <i class="fa fa-angle-right"></i>
                  </a>
                </div>
              </li>
            </ul>
          </li>


          <li>
            <a href="">
              <i class="fa fa-sign-out"></i> Log out
            </a>
          </li>
        </ul>

      </nav>
    </div>
    <div class="row wrapper border-bottom white-bg page-heading">
      <div class="col-lg-10">
        <h2>Profile</h2>
        <ol class="breadcrumb">
          <li>
            <a href="#">Profile</a>
          </li>
          <li>
            <a href="#">Preferences</a>
          </li>
          <li class="active">
            <strong>Reports</strong>
          </li>
          <li>
            <a href="#">Daily reports</a>
          </li>
        </ol>
      </div>
      <div class="col-lg-2">

      </div>
    </div>
    <div class="wrapper wrapper-content">
      <div class="row animated fadeInRight">
        <div class="col-md-12">
          <div class="ibox float-e-margins">
            <div class="ibox-title">
              Matching user to profession
            </div>
            <div class="ibox-content">
              <div class="row">
                <div class="col-md-8">
                  <!-- <div style="background: #0a6aa1; color: #ffffff;text-align: center; height: 270px;
                  line-height: 270px;">ТУТ
                    ГРАФИК</div> -->
                    <canvas id="userToProf" width="400" height="400" class="graph-medium"></canvas>
                </div>
                <div class="col-md-4">
                  <div class="u-list u-list--active">
                    <div class="u-list__left">
                      <span class="u-list__text">1 Profession</span>
                    </div>
                  </div>
                  <div class="u-list ">
                      <div class="u-list__left">
                        <span class="u-list__text">1 Profession</span>
                      </div>
                    </div>
                    <div class="u-list ">
                        <div class="u-list__left">
                          <span class="u-list__text">1 Profession</span>
                        </div>
                      </div>
                      <div class="u-list ">
                          <div class="u-list__left">
                            <span class="u-list__text">1 Profession</span>
                          </div>
                        </div>
                        <div class="u-list ">
                            <div class="u-list__left">
                              <span class="u-list__text">1 Profession</span>
                            </div>
                          </div>
                          <div class="u-list ">
                              <div class="u-list__left">
                                <span class="u-list__text">1 Profession</span>
                              </div>
                            </div>
                            <div class="u-list ">
                                <div class="u-list__left">
                                  <span class="u-list__text">1 Profession</span>
                                </div>
                              </div>
                              <div class="u-list ">
                                  <div class="u-list__left">
                                    <span class="u-list__text">1 Profession</span>
                                  </div>
                                </div>
                                <div class="u-list ">
                                    <div class="u-list__left">
                                      <span class="u-list__text">1 Profession</span>
                                    </div>
                                  </div>
                                  <div class="u-list ">
                                      <div class="u-list__left">
                                        <span class="u-list__text">1 Profession</span>
                                      </div>
                                    </div>
                  
                  
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="ibox float-e-margins">
            <div class="ibox-title">
              Matching user to popular skills
            </div>
            <div class="ibox-content">
                <canvas id="userToSkills" width="300" height="300" class="graph-small"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="ibox float-e-margins">
            <div class="ibox-title">
              Code changes per hour
            </div>
            <div class="ibox-content">
              <img style="width: 100%;" src="img/gr/_gr2.jpeg" alt="">
            </div>
          </div>
        </div>

        <div class="col-md-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    Code changes per week
                  </div>
                <div class="ibox-content">
                <img style="width: 100%;" src="img/gr/_gr1.jpeg" alt="">
              </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    Code changes per day of week
                  </div>
                <div class="ibox-content">
                <img style="width: 100%;" src="img/gr/_gr4.jpeg" alt="">
              </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    Languages
                  </div>
                <div class="ibox-content">
                <img style="width: 100%;" src="img/gr/_gr5.jpeg" alt="">
              </div>
            </div>
        </div>
        
      </div>
    </div>
    <div class="footer">
      <div>
        <strong>Copyright</strong> © 2019 Forkwell / Grooves Inc.
      </div>
    </div>

  </div>
</div>



<!-- Mainly scripts -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
<script>
var radarEl = document.getElementById('userToProf');
var userToProf = document.getElementById('userToProf').getContext('2d');

function addData(chart, label, data) {
    chart.data.labels.push(label);
    chart.data.datasets.forEach((dataset) => {
        dataset.data.push(data);
    });
    chart.update();
}
function removeData(chart) {
    chart.data.labels.pop();
    chart.data.datasets.forEach((dataset) => {
        dataset.data.pop();
    });
    chart.update();
}

function getNormalyData(data, number){
  var set1 = data.datasets[0];
  var set2 = data.datasets[number];


  var a = {
    labels: [...data.labels], 
    datasets: [
      {
        data: [...set1.data],
        label: set1.label,
        backgroundColor: 'rgba(13, 85, 255, 0.5)'
      },
      {
        data: [...set2.data],
        label: set2.label,
        backgroundColor: 'rgba(255, 0, 0, 0.5)'
      }
    ]
  };

  

  bubbleSort(a.datasets[1].data, a.datasets[0].data, a.labels);
  
  return a;
}
 
let chartUserToProof;
let data1 = {};
$.ajax({
  url: "http://207.154.199.253/api/userToProf",
}).done(function(data) {
  data1 = data;
  let newData = getNormalyData(data1, 1);

  // newData.datasets[1].data = newData.datasets[1].data.sort((a,b) => {return a - b;});
  
  chartUserToProof = new Chart(userToProf, {
    type: 'radar',
    data: newData,
    options: {}
  });

  $('.u-list').each(function(index) {
  $('.u-list__text', $(this)).text(data1.datasets[index + 1].label)
});
  

});

$.ajax({
  url: "http://207.154.199.253/api/userToProf",
}).done(function(data) {
  new Chart(userToSkills, {
    type: 'radar',
    data: data,
    options: {}
  });
});
let data2={
  labels: ['Running', 'Swimming', 'Eating', 'Cycling'],
  datasets: [{
      data: [20, 10, 4, 2]
  }]
};

$('.u-list').on('click', function() {
  $('.u-list').removeClass('u-list--active')
  $(this).addClass('u-list--active')
 
  chartUserToProof.data = getNormalyData(data1, $(this).index() + 1);
  // chartUserToProof.data.datasets[1].data = chartUserToProof.data.datasets[1].data.sort((a,b) => {return a - b;});


  chartUserToProof.update();

  return false;
});

var swap = function(arr, j) {
  [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
}
var bubbleSort = (arr, arr2, arr3) => {
    for (let i = 0, endI = arr.length - 1; i < endI; i++) {
        let wasSwap = false;
        for (let j = 0, endJ = endI - i; j < endJ; j++) {
            if (arr[j] > arr[j + 1]) {
              swap(arr, j);
              swap(arr2, j);
              swap(arr3, j);
              wasSwap = true;
            }
        }
        if (!wasSwap) break;
    }
    return arr;
};


</script>
<!-- Custom and plugin javascript -->
<script src="js/inspinia.js"></script>
<!-- <script src="js/plugins/pace/pace.min.js"></script> -->

<!-- Peity -->
<!-- <script src="js/plugins/peity/jquery.peity.min.js"></script> -->

<!-- Peity -->
<!-- <script src="js/demo/peity-demo.js"></script> -->

</body>

</html>
